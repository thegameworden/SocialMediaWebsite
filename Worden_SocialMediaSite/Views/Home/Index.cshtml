@model IEnumerable<Worden_SocialMediaSite.Models.Post>

@{
    ViewData["Title"] = "Index";
    var postList = Model.ToList();
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<!DOCTYPE html>
<html>

<head>
    <title>Home</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="~/styles/style.css">
</head>

<body>

    <main>
     
        <aside id="left-sidebar">
            <h2>Friend Requests</h2>
            <!-- Sample friend requests -->
            <div class="friend-request">John Doe <button class="btn btn-sm btn-primary">Accept</button></div>
            <div class="friend-request">Jane Smith <button class="btn btn-sm btn-danger">Decline</button></div>
        </aside>

        <section id="feed">
            <h1>Home</h1>
            <a asp-controller="post" asp-action="Create" class="btn btn-primary">Add new post</a>

            <table class="table table-bordered">
                <thead class="thead-dark">
                    <tr>
                        <th></th>
                        <th>
                            @Html.DisplayNameFor(model => model.Caption)
                        </th>
                        <th>
                            @Html.DisplayNameFor(model=>model.Author.Username)
                        </th>
                        <th>
                            @Html.DisplayNameFor(model => model.Likes)
                        </th>
                        <th>
                            @Html.DisplayNameFor(model => model.TimePosted)
                        </th>
                        <th></th>
                    </tr>
                </thead>
                <tbody>
                    
                    @if (postList.Count != 0) {
                        for (var i = 0; i < Math.Min(5, postList.Count); i++)
                        {
                            Post post = postList[i];

                            <tr class="container post-container">

                                <td>
                                    @Html.DisplayFor(modelItem => post.Caption)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => post.Author.Username)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => post.Likes)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => post.TimePosted)
                                </td>
                                <td>
                                    <a asp-controller="post" asp-action="details" asp-route-id="@postList[i].Id" class="btn btn-primary btn-sm">View Post</a>
                                </td>
                            </tr>
                        }
                    }
                </tbody>
            </table>
        </section>

        <aside id="right-sidebar">
            <h2>Trending Topics</h2>
            <!-- Sample trending topics -->
            <div>#SocialMedia</div>
            <div>#WebDesign</div>
        </aside>
    </main>

    <footer>
        <p>&copy; 2023 Social Media Site</p>
    </footer>
</body>

</html>
